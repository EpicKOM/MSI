{% extends 'layout.html' %}


{% block content %}
<div class="row mt-4">
        <div class="col-lg-3">
        <div class="dropdown custom-dropdown w-100">
            <button
                class="btn btn-hover bg-primary-color msi-border text-light dropdown-toggle w-100 d-flex justify-content-between align-items-center"
                type="button"
                data-mdb-dropdown-init
                data-mdb-ripple-init
                data-mdb-dropdown-animation="off"
                aria-expanded="false">
                <span id="chartPeriodSelectorTitle">
                    24h
                </span>
                <i class="fa-solid fa-chevron-down fa-sm"></i>
            </button>
            <ul class="dropdown-menu bg-primary-color msi-border w-100"
                aria-labelledby="dropdownMenuButton">
                <li>
                    <a class="dropdown-item text-light d-flex justify-content-between align-items-center action-item chart-period-selector action-item-disabled"
                       data-value="1">
                        24h<i class="fa-solid fa-check text-success"></i>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item text-light d-flex justify-content-between align-items-center action-item chart-period-selector"
                       data-value="2">
                        48h
                    </a>
                </li>
                <li>
                    <a class="dropdown-item text-light d-flex justify-content-between align-items-center action-item chart-period-selector"
                       data-value="3">
                        72h
                    </a>
                </li>
                <li>
                    <a class="dropdown-item text-light d-flex justify-content-between align-items-center action-item chart-period-selector"
                       data-value="7">
                        7 jours
                    </a>
                </li>
            </ul>
        </div>
        <div class="card bg-primary-color p-2 msi-border mt-3">
            <div class="d-flex align-items-center rounded-3 p-3 bg-active-color border-active action-item chart-data-selector action-item-disabled zoom-effect"
                 data-value="temperature">
                <i class="fas fa-temperature-three-quarters text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Température
                </h6>
            </div>
            <hr class="mt-1 mb-1">
            <div class="d-flex align-items-center rounded-3 p-3 action-item chart-data-selector zoom-effect"
                 data-value="rain">
                <i class="fa-solid fa-cloud-rain text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Pluie
                </h6>
            </div>
            <hr class="mt-1 mb-1">
            <div class="d-flex align-items-center rounded-3 p-3 action-item chart-data-selector zoom-effect"
                 data-value="wind">
                <i class="fa-solid fa-wind text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Vent
                </h6>
            </div>
            <hr class="mt-1 mb-1">
            <div class="d-flex align-items-center rounded-3 p-3 action-item chart-data-selector zoom-effect"
                 data-value="wind_direction">
                <i class="fa-solid fa-compass text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Direction du vent
                </h6>
            </div>
            <hr class="mt-1 mb-1">
            <div class="d-flex align-items-center rounded-3 p-3 action-item chart-data-selector zoom-effect"
                 data-value="humidity">
                <i class="fa-solid fa-droplet text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Humidité
                </h6>
            </div>
            <div class="d-flex align-items-center rounded-3 p-3 action-item chart-data-selector zoom-effect"
                     data-value="pressure">
                <i class="fa-solid fa-gauge text-light fa-lg me-3"></i>
                <h6 class="text-light fw-normal mb-0">
                    Pression
                </h6>
            </div>
        </div>
    </div>
    <div class="col-lg-9 mt-lg-0 mt-3 bg-primary-color">
        <div class="card bg-primary-color msi-border p-3">
            <h5 class="card-title text-center text-light"
                id="liveChartTitle">
                Température sur 24h (°C)
            </h5>

            <canvas id="liveChart"></canvas>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
    <script>
        const initialChartsData = {{ init_charts_data | tojson }};
    </script>
    <script src="{{ url_for('static', filename='js/charts/test.js') }}"></script>
{% endblock %}
